class UIController{constructor(){this.parser=new XMLParser,this.renderer=new TableRenderer,this.init()}init(){const e=document.getElementById("fileInput");document.getElementById("xmlContainer");e?.addEventListener("change",e=>this.handleFile(e.target.files[0])),document.addEventListener("dragover",e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"}),document.addEventListener("drop",e=>{e.preventDefault(),this.handleFile(e.dataTransfer.files[0])}),document.querySelector(".upload-area")?.addEventListener("click",()=>e?.click())}handleFile(e){if(!e)return;const r=new FileReader;r.onload=e=>{try{const r=this.parser.parse(e.target.result),t=this.parser.getCALS(r),n=document.getElementById("xmlContainer");t.length>0?this.renderer.render(t,n):n.innerHTML='<div class="error">No CALS tables found</div>'}catch(e){document.getElementById("xmlContainer").innerHTML=`<div class="error">Error: ${e.message}</div>`}},r.readAsText(e)}}window.UIController=UIController;