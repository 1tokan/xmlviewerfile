class XMLParser{constructor(){this.cache=new Map,this.maxCache=50}parse(e){const t=e.length+e.charCodeAt(0);if(this.cache.has(t))return this.cache.get(t);try{const r=(new DOMParser).parseFromString(e,"text/xml"),s=r.querySelector("parsererror");if(s)throw new Error("XML Parse Error: "+s.textContent);return this.cache.size>=this.maxCache&&this.cache.clear(),this.cache.set(t,r),r}catch(e){throw new Error("Failed to parse XML: "+e.message)}}getCALS(e){const t=e.querySelectorAll("tgroup"),r=e.querySelectorAll("table"),s=[];return[...t,...r].forEach(e=>{const t=e.querySelectorAll("row");0!==t.length&&s.push({cols:parseInt(e.getAttribute("cols")||this.getCols(e)),rows:[...t].map(e=>[...e.querySelectorAll("entry")].map(e=>({text:e.textContent.trim()||"",colname:e.getAttribute("colname")||"",namest:e.getAttribute("namest")||"",nameend:e.getAttribute("nameend")||"",morerows:parseInt(e.getAttribute("morerows")||"0")})))})}),s}getCols(e){return e.querySelectorAll("colspec").length||1}}"undefined"!=typeof window&&(window.XMLParser=XMLParser);